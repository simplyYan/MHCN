<!DOCTYPE html>
<html lang="pt-BR" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MHCN</title>
    <script src="tailwind.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .pulse-animation {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .spin-animation {
            animation: spin 1.5s linear infinite;
        }
        
        .progress-bar {
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
            background-size: 300% 100%;
            animation: gradient 2s linear infinite, grow 5s linear forwards;
            transform-origin: left;
            width: 0%;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes grow {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        .protocol-item {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease-out;
        }
        
        .protocol-item.active {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="h-full bg-gray-900 text-gray-100 flex flex-col items-center justify-center p-4 overflow-hidden">
    <div class="w-full max-w-md mx-auto">
        <div class="text-center mb-8 float-animation">
            <div class="w-24 h-24 mx-auto mb-6 relative">
                <div class="absolute inset-0 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 blur-md opacity-30"></div>
                <div class="absolute inset-2 rounded-full bg-gray-800 flex items-center justify-center">
                    <i class="fas fa-lock text-3xl text-purple-400 spin-animation"></i>
                </div>
            </div>
            <h1 class="text-2xl font-bold mb-2">MHCN</h1>
            <p class="text-gray-400">Establishing secure connection...</p>
        </div>
        
        <div class="mb-8">
            <div class="flex justify-between text-sm text-gray-400 mb-2">
                <span>Proxy Connection</span>
                <span id="status" class="text-blue-400">Initializing...</span>
            </div>
            <div class="bg-gray-800 rounded-full h-1.5 overflow-hidden">
                <div class="progress-bar"></div>
            </div>
        </div>
        
        <div class="bg-gray-800/50 rounded-xl p-5 mb-8">
            <h2 class="text-sm font-semibold text-gray-400 mb-3 uppercase tracking-wider">Security Protocols</h2>
            <ul class="space-y-3">
                <li class="protocol-item flex items-center">
                    <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mr-3">
                        <i class="fas fa-shield-alt text-blue-400"></i>
                    </div>
                    <div>
                        <p class="font-medium">TLS 1.3 Encryption</p>
                        <p class="text-xs text-gray-400">End-to-end secure channel</p>
                    </div>
                </li>
                <li class="protocol-item flex items-center">
                    <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mr-3">
                        <i class="fas fa-user-secret text-purple-400"></i>
                    </div>
                    <div>
                        <p class="font-medium">OAuth 2.0</p>
                        <p class="text-xs text-gray-400">Authentication protocol</p>
                    </div>
                </li>
                <li class="protocol-item flex items-center">
                    <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mr-3">
                        <i class="fas fa-fingerprint text-pink-400"></i>
                    </div>
                    <div>
                        <p class="font-medium">Biometric Verify</p>
                        <p class="text-xs text-gray-400">Device authentication</p>
                    </div>
                </li>
            </ul>
        </div>
        
        <div class="text-center text-sm text-gray-500 pulse-animation">
            <p>Please wait while we secure your connection</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const statusElement = document.getElementById('status');
            const protocolItems = document.querySelectorAll('.protocol-item');
            
            // Simulate connection steps
            const steps = [
                { text: "Connecting to proxy...", delay: 800 },
                { text: "Handshake...", delay: 1200 },
                { text: "Encrypting...", delay: 1000 },
                { text: "Verifying...", delay: 900 },
                { text: "Secure", delay: 1100 }
            ];
            
            // Animate protocol items sequentially
            protocolItems.forEach((item, index) => {
                setTimeout(() => {
                    item.classList.add('active');
                }, 1000 + (index * 600));
            });
            
            // Update status text
            let currentStep = 0;
            function updateStatus() {
                if (currentStep < steps.length) {
                    statusElement.textContent = steps[currentStep].text;
                    setTimeout(updateStatus, steps[currentStep].delay);
                    currentStep++;
                }
            }
            
            setTimeout(updateStatus, 500);
            
            setTimeout(() => {
                (async () => {
                    try {
                        const fileUrl = 'https://raw.githubusercontent.com/simplyYan/MHCN/refs/heads/main/server/config.mhcn';
                        const response = await fetch(fileUrl);

                        if (!response.ok) {
                            throw new Error('Failed to fetch the configuration file.');
                        }

                        const encodedUrl = await response.text();
                        const decodedUrl = atob(encodedUrl.trim());

                        setTimeout(() => {
                            window.location.href = decodedUrl;
                        }, 2000);

                    } catch (error) {
                        document.body.innerHTML = `<div style="color:red; text-align:center;">Error: ${error.message}</div>`;
                    }
                })();
            }, 5000);
        });
    </script>
</body>
</html>
